<% counter = 0 %>
<% characters.each_with_index do |character, index| %>
  <% if counter == 0 %><div class="row"><% end %>
  <%= render partial: 'characters/character', locals: { character: character } %>
    <% counter += 1 %>
  <% if counter == 3 || index == (characters.count - 1) %></div><!--/.row--><% counter = 0 %><% end %>
<% end %>